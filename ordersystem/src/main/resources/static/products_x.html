<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>簡約家居 - 品質生活</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="./css/product_x.css">
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

</head>

<body>
    <div id="app">
        <header>
            <div class="container">
                <nav>
                    <div class="logo">簡約家居</div>
                    <ul>
                        <li><a href="./index.html">首頁</a></li>
                        <li><a href="./products.html">商品</a></li>
                        <li><a href="#about">關於我們</a></li>
                        <li id="member-center-link" style="display:none;">
                            <a href="./memberCenter.html" id="member-name"></a>
                        </li>
                    </ul>
                    <ul>
                        <li>
                            <a href="./cart.html" class="cart-link"><img src="./images/shopping.svg" class="icon-cart">
                                <span v-show="cartCount > 0" class="cart-badge">
                                    {{ cartCount }}
                                </span>
                            </a>
                        </li>
                        <li id="login-link"><a href="/login"><img src="./images/login.svg" class="icon-cart"></a></li>
                        <li id="member-icon" style="display:none;">
                            <a href="./memberCenter.html" class="member-link">
                                <div id="member-avatar" class="member-avatar">會</div>
                                <span id="member-displayname" style="font-weight:bold;"></span>
                            </a>
                        </li>
                        <li id="real-logout" style="display:none;">
                            <form action="/logout" method="post" style="display:inline;">
                                <button type="submit" class="btn-logout">登出</button>
                            </form>
                        </li>
                    </ul>
                </nav>
            </div>
        </header>

        <section id="product-detail">
            <div class="containerV1 row">
                <div v-if="isLoading">載入中...</div>
                <div v-else-if="hasError">取得商品資料失敗</div>
                <div v-else-if="product" class="row">
                    <div class="col-md-7"><img :src="`http://localhost:8080/uploads/${product.imageUrl}`"
                            :alt="product.name" style="width: 100%; height: 100%; object-fit: cover;" /></div>
                    <div class="col-md-4">
                        <h2>{{ product.name }}</h2>
                        <div class="price">NT${{ product.price }}</div>
                        <p>{{ product.description }}</p>
                        <button class="btn" @click="addToCart(product)">加入購物車</button>

                    </div>
                    <!-- 商品規格區塊 -->
                    <div v-if="product.specification" class="mt-3">
                        <h5>商品規格</h5>
                        <ul class="list-group">
                            <li class="list-group-item" v-if="product.specification.length !== null">長：{{
                                product.specification.length }} cm</li>
                            <li class="list-group-item" v-if="product.specification.width !== null">寬：{{
                                product.specification.width }} cm</li>
                            <li class="list-group-item" v-if="product.specification.height !== null">高：{{
                                product.specification.height }} cm</li>
                            <li class="list-group-item" v-if="product.specification.weight !== null">重量：{{
                                product.specification.weight }} kg</li>
                            <li class="list-group-item" v-if="product.specification.origin">產地：{{
                                product.specification.origin }}</li>
                        </ul>
                    </div>
                </div>
                <div v-else>找不到商品資料</div>
            </div>
        </section>
    </div>
    <footer>
        <section>
            <div class="container">
                <ul>
                    <h2>聯繫我們</h2>
                    <li class="xa">地址 : 台北市信義區松仁路123號</li>
                    <li class="xa">電話 : 02-1234-5678</li>
                </ul>
                <div>
                    <a href>
                        <img src="./images/IG.png" alt="IG" class="icon-cart2">
                    </a>
                    <a href>
                        <img src="./images/FB.png" alt="Facebook" class="icon-cart2">
                    </a>
                    <a href>
                        <img src="./images/LINE.png" alt="LINE" class="icon-cart2">
                    </a>
                </div>
            </div>
        </section>
        <p>&copy; 2025 簡約家居 版權所有</p>
    </footer>
    <script src="./js/products_x.js"></script>
    <script src="./js/nav.js"></script>
</body>

</html>