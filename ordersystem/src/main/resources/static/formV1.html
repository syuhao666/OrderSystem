<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="./css/formV1.css">


</head>

<body>
    <!-- Header 導覽列 -->
    <div id="app">
        <header>
            <div class="container">
                <nav>
                    <div class="logo">簡約家居</div>
                    <ul>
                        <li><a href="./index.html">首頁</a></li>
                        <li><a href="./products.html">商品</a></li>
                        <li><a href="#about">關於我們</a></li>
                        <li><a href="#contact">聯繫我們</a></li>
                        <li id="member-center-link" style="display:none;">
                            <a href="./memberCenter.html" id="member-name"></a>
                        </li>
                    </ul>
                    <ul>
                        <li>
                            <a href="./cart.html" class="cart-link"><img src="./images/shopping.svg" class="icon-cart">
                                <span v-show="cartCount > 0" class="cart-badge">
                                    {{ cartCount }}
                                </span>
                            </a>
                        </li>
                        <li id="login-link"><a href="/login"><img src="./images/login.svg" class="icon-cart"></a></li>
                        <li id="logout-link" style="display:none;">
                            <form action="/logout" method="post" style="display:inline;">
                                <button type="submit" style="background:none;border:none;padding:0;">
                                    <img src="./images/login.svg" class="icon-cart" title="登出">
                                </button>
                            </form>
                        </li>
                    </ul>
                </nav>
            </div>
        </header>
        <!-- -------------------------------- -->
        <!-- 填寫資料 -->

        <section class="container">
            <div class="row">
                <!-- 左邊：收件人資料 -->
                <div class="col-md-8">
                    <div class="d-flex p-3">
                        <h2>收件人資料填寫</h2>
                        <label class="ms-auto">
                            <input type="checkbox">
                            <span>同訂購人資料</span>
                        </label>
                    </div>
                    <form action="#" method="post">
                        <div class="row p-3">
                            <label class="col-md-12">姓名</label>
                            <input type="text" v-model="formData.name" required>
                        </div>
                        <div class="row p-3">
                            <label>手機號碼 (主聯繫)<span class="required-star">*</span></label>
                            <div>請保持暢通並留意陌生來電，以免無法送達</div>
                            <input type="tel" v-model="formData.phone" placeholder="請輸入手機號碼 (範例：09XXXXXXXX)" required>
                        </div>
                        <div class="row p-3">
                            <label>E-mail</label>
                            <input type="email" v-model="formData.email">
                        </div>
                        <div class="row p-3">
                            <label>收件人地址<span>*</span></label>
                            <div class="row p-3">
                                <select class="col-md-5" v-model="selectedCity" @change="onCityChange" required>
                                    <option value="" disabled>請選擇縣市</option>
                                    <option v-for="(districts, city) in addressData" :key="city" :value="city">{{ city
                                        }}</option>
                                </select>
                                <select class="col-md-5" v-model="selectedDistrict" @change="onDistrictChange"
                                    :disabled="!selectedCity" required>
                                    <option value="" disabled>請選擇區</option>
                                    <option v-for="(zip, district) in districts" :key="district" :value="district">{{
                                        district }}</option>
                                </select>
                                <input class="col-md-2" type="text" v-model="selectedZip" required />
                            </div>
                            <input type="text" v-model="formData.address" placeholder="請輸入詳細地址" required />
                        </div>
                        <div class="row p-3">
                            <label>付費方式<span>*</span></label>
                            <select v-model="formData.paymentMethod" required>
                                <option>信用卡</option>
                                <option>ATM轉帳</option>
                            </select>
                        </div>
                    </form>
                    <div class="p-3 d-flex">
                        <button class="btn btn-success ms-auto" @click="checkout">結帳</button>
                    </div>
                </div>

                <!-- 右邊：購物車摘要 -->
                <div class="col-md-4">
                    <div class="p-3 border rounded bg-light">
                        <h4>購物車內容</h4>
                        <ul class="list-group mb-3">
                            <li class="list-group-item" v-for="item in cartItems" :key="item.id">
                                {{ item.name }} x {{ item.quantity }}
                                <span class="float-end">{{ item.price * item.quantity }} 元</span>
                            </li>
                        </ul>
                        <div class="d-flex justify-content-between fw-bold">
                            <span>總計</span>
                            <span>{{ finalTotal }} 元</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </div>
    <!-- ------------------------------------------ -->
    <footer>
        <section>
            <div class="container">
                <ul>
                    <h3>聯繫我們</h3>
                    <li class="xa">地址 : 台北市信義區松仁路123號</li>
                    <li class="xa">電話 : 02-1234-5678</li>
                </ul>
                <div>
                    <a href>
                        <img src="./images/IG.png" alt="IG" class="icon-cart2">
                    </a>
                    <a href>
                        <img src="./images/FB.png" alt="Facebook" class="icon-cart2">
                    </a>
                    <a href>
                        <img src="./images/LINE.png" alt="LINE" class="icon-cart2">
                    </a>
                </div>
            </div>
        </section>
        <p>&copy; 2025 簡約家居 版權所有</p>
    </footer>
    <script src="./js/form.js"></script>

</body>

</html>